<html xmlns:deltaxml="http://www.deltaxml.com/ns/well-formed-delta-v1" xmlns="http://www.w3.org/1999/xhtml" xmlns:dxx="http://www.deltaxml.com/ns/xml-namespaced-attribute" xmlns:dxa="http://www.deltaxml.com/ns/non-namespaced-attribute" deltaxml:deltaV2="A!=B" deltaxml:version="2.0" deltaxml:content-type="full-context">
   <head deltaxml:deltaV2="A=B"/>
   <body deltaxml:deltaV2="A!=B">
      <article deltaxml:deltaV2="A!=B" id="R.1" class="article">
         <header deltaxml:deltaV2="A=B" class="article-titlepage">
            <h2>Article wrapper</h2>
         </header>
         <div deltaxml:deltaV2="A!=B"><deltaxml:attributes deltaxml:deltaV2="A!=B"><dxa:class deltaxml:deltaV2="A!=B"><deltaxml:attributeValue deltaxml:deltaV2="A">programlisting</deltaxml:attributeValue><deltaxml:attributeValue deltaxml:deltaV2="B">numbered-verbatim</deltaxml:attributeValue></dxa:class></deltaxml:attributes>
            <pre deltaxml:deltaV2="A">
               <span class="linenumber">  1</span>
               <span class="linenumber-separator"/>@rem = '--*-Perl-*--                                       <a name="prologue"/>
               <img src="http://localhost:8119/base/img/1.png" alt="1" border="0"/>
               <span class="linenumber">  2</span>
               <span class="linenumber-separator"/>@echo off
<span class="linenumber"/>
               <span class="linenumber-separator"/>perl.exe %_batchname %$
<span class="linenumber">  4</span>
               <span class="linenumber-separator"/>goto endofperl                                             <a name="skipeof"/>
               <img src="http://localhost:8119/base/img/2.png" alt="2" border="0"/>
               <span class="linenumber"/>
               <span class="linenumber-separator"/>@rem ';
<span class="linenumber">  6</span>
               <span class="linenumber-separator"/>
               <span class="linenumber"/>
               <span class="linenumber-separator"/># Compress mail...
<span class="linenumber">  8</span>
               <span class="linenumber-separator"/>
               <span class="linenumber"/>
               <span class="linenumber-separator"/>require 'n:/home/nwalsh/lib/cygnus.pl';                    <a name="xreq"/>
               <img src="http://localhost:8119/base/img/3.png" alt="3" border="0"/>
               <span class="linenumber"> 10</span>
               <span class="linenumber-separator"/>require 'timelocal.pl';                                    <a name="require2"/>
               <img src="http://localhost:8119/base/img/3.png" alt="3" border="0"/>
               <span class="linenumber"/>
               <span class="linenumber-separator"/>use Cwd;                                         <a name="use"/>
               <img src="http://localhost:8119/base/img/4.png" alt="4" border="0"/>
               <span class="linenumber"> 12</span>
               <span class="linenumber-separator"/>
               <span class="linenumber"/>
               <span class="linenumber-separator"/>select (STDERR); $| = 1;
<span class="linenumber"> 14</span>
               <span class="linenumber-separator"/>select (STDOUT); $| = 1;
<span class="linenumber"/>
               <span class="linenumber-separator"/>
               <span class="linenumber"> 16</span>
               <span class="linenumber-separator"/>@DIRS = ("/home/nwalsh/Mail");
<span class="linenumber"/>
               <span class="linenumber-separator"/>while (@DIRS) {
<span class="linenumber"> 18</span>
               <span class="linenumber-separator"/>    $dir = shift @DIRS;
<span class="linenumber"/>
               <span class="linenumber-separator"/>    opendir (DIR, $dir);
<span class="linenumber"> 20</span>
               <span class="linenumber-separator"/>    while ($fname = readdir(DIR)) {
<span class="linenumber"/>
               <span class="linenumber-separator"/>        $file = "$dir/$fname";
<span class="linenumber"> 22</span>
               <span class="linenumber-separator"/>        next if ! -d $file;
<span class="linenumber"/>
               <span class="linenumber-separator"/>        next if $fname =~ /^\.\.?$/;
<span class="linenumber"> 24</span>
               <span class="linenumber-separator"/>
               <span class="linenumber"/>
               <span class="linenumber-separator"/>        print "$file\n";
<span class="linenumber"> 26</span>
               <span class="linenumber-separator"/>        push (@DIRS, $file);
<span class="linenumber"/>
               <span class="linenumber-separator"/>        &amp;compress ($file);                                 <a name="funccall"/>
               <img src="http://localhost:8119/base/img/5.png" alt="5" border="0"/>
               <span class="linenumber"> 28</span>
               <span class="linenumber-separator"/>    }
<span class="linenumber"/>
               <span class="linenumber-separator"/>}
<span class="linenumber"> 30</span>
               <span class="linenumber-separator"/>
               <span class="linenumber"/>
               <span class="linenumber-separator"/>exit;</pre><table deltaxml:deltaV2="B" border="0">
               <tr>
                  <td align="right" valign="top">
                     <pre class="line-numbers">
                        <code class="line-number">1</code>
                        <code class="line-number">2</code>
                        <code class="line-number">3</code>
                        <code class="line-number">4</code>
                        <code class="line-number">5</code>
                        <code class="line-number">6</code>
                        <code class="line-number">7</code>
                        <code class="line-number">8</code>
                        <code class="line-number">9</code>
                        <code class="line-number">10</code>
                        <code class="line-number">11</code>
                        <code class="line-number">12</code>
                        <code class="line-number">13</code>
                        <code class="line-number">14</code>
                        <code class="line-number">15</code>
                        <code class="line-number">16</code>
                        <code class="line-number">17</code>
                        <code class="line-number">18</code>
                        <code class="line-number">19</code>
                        <code class="line-number">20</code>
                        <code class="line-number">21</code>
                        <code class="line-number">22</code>
                        <code class="line-number">23</code>
                        <code class="line-number">24</code>
                        <code class="line-number">25</code>
                        <code class="line-number">26</code>
                        <code class="line-number">27</code>
                        <code class="line-number">28</code>
                        <code class="line-number">29</code>
                        <code class="line-number">30</code>
                        <code class="line-number">31</code>
                     </pre>
                  </td>
                  <td valign="top">
                     <pre class="programlisting">
                        <code>@rem = '--*-Perl-*--
@echo off
perl.exe %_batchname %$
goto endofperl
@rem ';

# Compress mail...

require 'n:/home/nwalsh/lib/cygnus.pl';
require 'timelocal.pl';
use Cwd;

select (STDERR); $| = 1;
select (STDOUT); $| = 1;

@DIRS = ("/home/nwalsh/Mail");
while (@DIRS) {
    $dir = shift @DIRS;
    opendir (DIR, $dir);
    while ($fname = readdir(DIR)) {
        $file = "$dir/$fname";
        next if ! -d $file;
        next if $fname =~ /^\.\.?$/;

        print "$file\n";
        push (@DIRS, $file);
        &amp;compress ($file);
    }
}

exit;</code>
                     </pre>
                  </td>
               </tr>
            </table>
         </div>
         <div deltaxml:deltaV2="A!=B" class="calloutlist">
            <table deltaxml:deltaV2="A" border="0" summary="Callout list">
               <tr class="callout-row">
                  <td class="callout-bug" valign="baseline" align="left">
                     <p class="callout">
                        <img src="http://localhost:8119/base/img/1.png" alt="1" border="0"/> </p>
                  </td>
                  <td class="callout-body" valign="baseline" align="left">
                     <p>The prologue handles embedding a Perl script in a DOS batch file.</p>
                  </td>
               </tr>
               <tr class="callout-row">
                  <td class="callout-bug" valign="baseline" align="left">
                     <p id="skipeof-desc" class="callout">
                        <img src="http://localhost:8119/base/img/2.png" alt="2" border="0"/> </p>
                  </td>
                  <td class="callout-body" valign="baseline" align="left">
                     <p>The <code class="literal">goto</code> statement, interpreted by the DOS
batch file interpreter, skips over the body of the Perl script. (Note
that this callout has an “id” attribute that is referenced by a
“linkends” attribute on the callout bug for line 4 above.)</p>
                  </td>
               </tr>
               <tr class="callout-row">
                  <td class="callout-bug" valign="baseline" align="left">
                     <p class="callout">
                        <img src="http://localhost:8119/base/img/3.png" alt="3" border="0"/>
                        <img src="http://localhost:8119/base/img/3.png" alt="3" border="0"/> </p>
                  </td>
                  <td class="callout-body" valign="baseline" align="left">
                     <p>The <code class="literal">require</code> statement sources in external program
fragments.</p>
                  </td>
               </tr>
               <tr class="callout-row">
                  <td class="callout-bug" valign="baseline" align="left">
                     <p class="callout">
                        <img src="http://localhost:8119/base/img/4.png" alt="4" border="0"/> </p>
                  </td>
                  <td class="callout-body" valign="baseline" align="left">
                     <p>The <code class="literal">use</code> statement is similar, but has additional
utility.  It is a Perl5 function.  (Note that this callout area specifies
both a line and a column.)</p>
                  </td>
               </tr>
               <tr class="callout-row">
                  <td class="callout-bug" valign="baseline" align="left">
                     <p class="callout">
                        <img src="http://localhost:8119/base/img/5.png" alt="5" border="0"/> </p>
                  </td>
                  <td class="callout-body" valign="baseline" align="left">
                     <p>This is a user subroutine call.</p>
                  </td>
               </tr>
            </table><dl deltaxml:deltaV2="B">
               <dt class="callout">
                  <span data-number="1" class="callout-bug callout-bug-unicode">❶</span>
               </dt>
               <dd>
                  <p>The prologue handles embedding a Perl script in a DOS batch file.</p>
               </dd>
               <dt id="skipeof-desc" class="callout">
                  <span data-number="4" class="callout-bug callout-bug-unicode">❹</span>
               </dt>
               <dd>
                  <p>The <code class="literal">goto</code> statement, interpreted by the DOS
batch file interpreter, skips over the body of the Perl script. (Note
that this callout has an “id” attribute that is referenced by a
“linkends” attribute on the callout bug for line 4 above.)</p>
               </dd>
               <dt class="callout">
                  <span data-number="9" class="callout-bug callout-bug-unicode">❾</span>
                  <span data-number="10" class="callout-bug callout-bug-unicode">❿</span>
               </dt>
               <dd>
                  <p>The <code class="literal">require</code> statement sources in external program
fragments.</p>
               </dd>
               <dt class="callout">
                  <span data-number="11" class="callout-bug callout-bug-text">11</span>
               </dt>
               <dd>
                  <p>The <code class="literal">use</code> statement is similar, but has additional
utility.  It is a Perl5 function.  (Note that this callout area specifies
both a line and a column.)</p>
               </dd>
               <dt class="callout">
                  <span data-number="27" class="callout-bug callout-bug-text">27</span>
               </dt>
               <dd>
                  <p>This is a user subroutine call.</p>
               </dd>
            </dl>
         </div>
      </article>
   </body>
</html>